<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Hibo â€“ The Habit Odyssey</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            poppins: ['Poppins', 'sans-serif'],
          }
        }
      }
    }
  </script>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@700&display=swap" rel="stylesheet" />
  <style>
    .char { display: inline-block; }
    .fade-overlay {
      position: absolute;
      inset: 0;
      background: black;
      opacity: 0;
      z-index: 50;
      pointer-events: none;
    }
    .layer {
      position: absolute;
      inset: 0;
      background-size: cover;
      background-position: center;
      opacity: 0;
      transform: scale(1);
      filter: brightness(0.8);
    }
  </style>
</head>
<body class="bg-black text-white font-poppins overflow-x-hidden">

  <div id="pin-container" class="relative w-full h-screen overflow-hidden"></div>
  <div class="fade-overlay"></div>
  
  <!-- CTA Section -->
  <section id="cta-section" class="relative w-full h-screen flex flex-col justify-center items-center bg-gradient-to-br from-[#0F0F23] via-[#1A1A2E] to-[#16213E] text-center p-6">
    <h2 class="text-4xl md:text-6xl font-bold mb-4">Start Your Journey</h2>
    <p class="text-lg md:text-xl max-w-2xl mb-8">Transform your life through the power of small, consistent habits. Every expert was once a beginner.</p>
    <a href="#" id="cta-button" class="bg-yellow-400 text-black font-bold px-8 py-3 rounded-full text-lg transition-transform hover:scale-105">Begin Your Transformation ðŸš€</a>
    <div id="confetti-container" class="absolute inset-0 overflow-hidden pointer-events-none z-50"></div>
  </section>

  <!-- GSAP -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
  
  <script>
    gsap.registerPlugin(ScrollTrigger);

    const storyConfig = {
      scenes: [
        { text: "This is Hibo.", image: "https://images.unsplash.com/photo-1540553016722-983e48a2cd10?w=1920&h=1080&fit=crop", animationType: "fadeUp" },
        { text: "A burst of motivation.", image: "https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=1920&h=1080&fit=crop", animationType: "scaleIn" },
        { text: "He worked harder and harder.", image: "https://images.unsplash.com/photo-1534438327276-14e5300c3a48?w=1920&h=1080&fit=crop", animationType: "fadeIn" },
        { text: "Until he couldn't anymore.", image: "https://images.unsplash.com/photo-1568602471122-7832951cc4c5?w=1920&h=1080&fit=crop", animationType: "intenseZoom" }, // intense scene
        { text: "He found the secret.", image: "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=1920&h=1080&fit=crop", animationType: "fadeUp" },
        { text: "Start your journey.", image: "https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=1920&h=1080&fit=crop", animationType: "scaleIn" }
      ]
    };

    const pinContainer = document.getElementById('pin-container');
    const fadeOverlay = document.querySelector('.fade-overlay');
    const ctaSection = document.getElementById('cta-section');
    const layers = [];
    const textContainers = [];

    // Create layers & text
    storyConfig.scenes.forEach(scene => {
      const layer = document.createElement('div');
      layer.className = 'layer';
      layer.style.backgroundImage = `url('${scene.image}')`;
      pinContainer.appendChild(layer);
      layers.push(layer);

      const textContainer = document.createElement('div');
      textContainer.className = 'absolute inset-0 flex justify-center items-center text-center font-bold text-3xl md:text-5xl lg:text-6xl px-4 opacity-0';
      textContainer.innerHTML = scene.text.split("").map(char => `<span class="char">${char === ' ' ? '&nbsp;' : char}</span>`).join("");
      pinContainer.appendChild(textContainer);
      textContainers.push(textContainer);
    });

    const masterTl = gsap.timeline({
      scrollTrigger: {
        trigger: pinContainer,
        pin: true,
        scrub: 1,
        end: "+=12000"
      }
    });

    storyConfig.scenes.forEach((scene, index) => {
      const layer = layers[index];
      const textContainer = textContainers[index];
      const chars = textContainer.querySelectorAll('.char');

      // Fade from black
      masterTl.to(fadeOverlay, { opacity: 0, duration: 0.8 });

      // Show image & text
      masterTl.to(layer, { opacity: 1, duration: 1 }, "<");
      masterTl.to(textContainer, { opacity: 1, duration: 0.1 }, "<");

      // Text animation types
      if (scene.animationType === "fadeUp") {
        masterTl.from(chars, { y: 60, opacity: 0, stagger: 0.03, ease: 'power2.out' }, "<");
      } else if (scene.animationType === "scaleIn") {
        masterTl.from(chars, { scale: 0.5, opacity: 0, stagger: 0.04, ease: 'back.out(1.7)' }, "<");
      } else if (scene.animationType === "fadeIn") {
        masterTl.from(chars, { opacity: 0, stagger: 0.05, ease: 'power1.inOut' }, "<");
      } else if (scene.animationType === "intenseZoom") {
        masterTl.from(chars, { scale: 2, opacity: 0, stagger: 0.02, ease: 'power4.out' }, "<");
        masterTl.to(layer, { scale: 1.5, duration: 1.5, ease: "power2.inOut" }, "<");
        masterTl.to(layer, { x: "+=10", y: "+=10", repeat: 5, yoyo: true, duration: 0.05, ease: "none" }, "<0.8"); // camera shake
      }

      masterTl.to({}, { duration: 0.5 });

      // Fade to black before next scene
      masterTl.to(fadeOverlay, { opacity: 1, duration: 0.8 });
      masterTl.set(layer, { opacity: 0 });
      masterTl.set(textContainer, { opacity: 0 });
    });

    masterTl.to(fadeOverlay, { opacity: 0, duration: 1 });

    // CTA Section Animation
    const ctaTl = gsap.timeline({
      scrollTrigger: {
        trigger: ctaSection,
        start: "top 80%",
        toggleActions: "play none none none",
      }
    });
    ctaTl.from(ctaSection, { opacity: 0, scale: 0.9, duration: 1 });
    ctaTl.call(() => {
      if (!ctaSection.dataset.confettiLaunched) {
        launchConfetti();
        ctaSection.dataset.confettiLaunched = "true";
      }
    }, null, ">-0.5");

    function launchConfetti() {
      const container = document.getElementById('confetti-container');
      const colors = ['#FFD700', '#FF6347', '#00BFFF', '#32CD32', '#FF69B4', '#FFFFFF'];
      for (let i = 0; i < 150; i++) {
        const confetti = document.createElement('div');
        confetti.classList.add('absolute', 'w-[10px]', 'h-[15px]');
        confetti.style.left = `${Math.random() * 100}%`;
        confetti.style.top = `-20%`;
        confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
        container.appendChild(confetti);
        gsap.to(confetti, {
          y: '120vh', x: `random(-200, 200)`, rotation: `random(360, 720)`, scale: `random(0.5, 1.5)`,
          opacity: 1, duration: `random(3, 6)`, delay: Math.random() * 2,
          onComplete: () => confetti.remove()
        });
      }
    }
  </script>
</body>
</html>
