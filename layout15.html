<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Hibo Story â€“ Cinematic</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
</head>
<body class="bg-black text-white overflow-x-hidden">

  <!-- Black Fade Overlay -->
  <div id="fade-overlay" class="fixed top-0 left-0 w-full h-full bg-black pointer-events-none z-50 opacity-0"></div>

  <!-- Story Sections -->
  <div id="story-container"></div>

  <!-- CTA Section -->
  <section id="cta-section" class="relative w-full h-screen flex flex-col justify-center items-center bg-gradient-to-br from-[#0F0F23] via-[#1A1A2E] to-[#16213E]">
    <h2 class="text-4xl md:text-6xl font-bold mb-4">Start Your Journey</h2>
    <p class="text-center max-w-xl text-lg md:text-xl mb-8">
      Transform your life through the power of small, consistent habits. Every expert was once a beginner.
    </p>
    <a href="#" id="cta-button" class="px-6 py-3 text-lg font-bold bg-yellow-400 text-black rounded-full shadow-lg hover:scale-105 transition-transform">
      Begin Your Transformation ðŸš€
    </a>
    <div id="confetti-container" class="absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none z-50"></div>
  </section>

  <script>
    gsap.registerPlugin(ScrollTrigger);

    // Story config
    const storyConfig = [
      {
        text: "This is Hibo.",
        bgImage: "https://images.unsplash.com/photo-1540553016722-983e48a2cd10?w=1920&h=1080&fit=crop",
        textClasses: "absolute bottom-20 left-10 text-4xl font-bold text-yellow-400",
        textAnim: "fadeUp",
        imgAnim: "zoomIn"
      },
      {
        text: "A burst of motivation.",
        bgImage: "https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=1920&h=1080&fit=crop",
        textClasses: "absolute top-1/3 right-10 text-4xl md:text-6xl font-bold text-pink-400 text-right",
        textAnim: "staggerFade",
        imgAnim: "panRight"
      },
      {
        text: "The intense turning point.",
        bgImage: "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=1920&h=1080&fit=crop",
        textClasses: "absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-5xl md:text-7xl font-extrabold text-red-500 text-center",
        textAnim: "intensePulse",
        imgAnim: "zoomAndPan"
      }
    ];

    const container = document.getElementById("story-container");

    // Create scenes
    storyConfig.forEach((scene, index) => {
      const section = document.createElement("section");
      section.className = "relative w-full h-screen flex items-center justify-center overflow-hidden";
      section.style.backgroundImage = `url('${scene.bgImage}')`;
      section.style.backgroundSize = "cover";
      section.style.backgroundPosition = "center";
      
      const text = document.createElement("div");
      text.className = scene.textClasses + " opacity-0";
      text.innerText = scene.text;
      section.appendChild(text);

      container.appendChild(section);

      // Animate within section
      const secTl = gsap.timeline({
        scrollTrigger: {
          trigger: section,
          start: "top top",
          end: "bottom top",
          scrub: true,
          onEnter: () => fadeBetweenSections(index),
          onEnterBack: () => fadeBetweenSections(index)
        }
      });

      // Background animations
      if (scene.imgAnim === "zoomIn") {
        secTl.fromTo(section, { scale: 1 }, { scale: 1.2 });
      } else if (scene.imgAnim === "panRight") {
        secTl.fromTo(section, { backgroundPositionX: "0%" }, { backgroundPositionX: "20%" });
      } else if (scene.imgAnim === "zoomAndPan") {
        secTl.fromTo(section, { scale: 1, backgroundPositionY: "0%" }, { scale: 1.3, backgroundPositionY: "20%" });
      }

      // Text animations
      if (scene.textAnim === "fadeUp") {
        secTl.fromTo(text, { y: 50, opacity: 0 }, { y: 0, opacity: 1, duration: 1 }, "<");
      } else if (scene.textAnim === "staggerFade") {
        const chars = scene.text.split("");
        text.innerHTML = chars.map(c => `<span class="inline-block opacity-0">${c}</span>`).join("");
        const spans = text.querySelectorAll("span");
        secTl.to(text, { opacity: 1, duration: 0.1 }, "<");
        secTl.to(spans, { opacity: 1, stagger: 0.05 }, "<");
      } else if (scene.textAnim === "intensePulse") {
        secTl.fromTo(text, { scale: 0.8, opacity: 0 }, { scale: 1, opacity: 1, duration: 1 }, "<");
        secTl.to(text, { scale: 1.2, repeat: -1, yoyo: true, ease: "power1.inOut", duration: 0.5 });
      }
    });

    // Fade transition logic
    let lastIndex = -1;
    function fadeBetweenSections(index) {
      if (index !== lastIndex) {
        gsap.fromTo("#fade-overlay", { opacity: 0 }, { opacity: 1, duration: 0.4, yoyo: true, repeat: 1, repeatDelay: 0.1 });
        lastIndex = index;
      }
    }

    // CTA animation + confetti
    gsap.timeline({
      scrollTrigger: {
        trigger: "#cta-section",
        start: "top 80%",
        toggleActions: "play none none none"
      }
    })
    .from("#cta-section", { opacity: 0, scale: 0.9, duration: 1 })
    .call(() => {
      if (!document.querySelector("#cta-section").dataset.confettiLaunched) {
        launchConfetti();
        document.querySelector("#cta-section").dataset.confettiLaunched = "true";
      }
    });

    function launchConfetti() {
      const container = document.getElementById("confetti-container");
      const colors = ['#FFD700', '#FF6347', '#00BFFF', '#32CD32', '#FF69B4', '#FFFFFF'];
      for (let i = 0; i < 100; i++) {
        const confetti = document.createElement("div");
        confetti.className = "absolute w-2 h-3 opacity-0";
        confetti.style.left = `${Math.random() * 100}%`;
        confetti.style.top = `-5%`;
        confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        container.appendChild(confetti);
        gsap.to(confetti, {
          y: "110vh", x: `random(-200, 200)`, rotation: `random(360, 720)`, scale: `random(0.5, 1.5)`,
          opacity: 1, duration: `random(3, 6)`, delay: Math.random() * 2,
          onComplete: () => confetti.remove()
        });
      }
    }
  </script>
</body>
</html>
